import{R as k,j as l,r as j}from"./index-B90e5rjT.js";const C=e=>{let n;const t=new Set,r=(c,m)=>{const p=typeof c=="function"?c(n):c;if(!Object.is(p,n)){const b=n;n=m??(typeof p!="object"||p===null)?p:Object.assign({},n,p),t.forEach(i=>i(n,b))}},a=()=>n,d={setState:r,getState:a,getInitialState:()=>f,subscribe:c=>(t.add(c),()=>t.delete(c))},f=n=e(r,a,d);return d},F=e=>e?C(e):C,E=e=>e;function L(e,n=E){const t=k.useSyncExternalStore(e.subscribe,()=>n(e.getState()),()=>n(e.getInitialState()));return k.useDebugValue(t),t}const I=e=>{const n=F(e),t=r=>L(n,r);return Object.assign(t,n),t},H=e=>e?I(e):I;function N(e,n){let t;try{t=e()}catch{return}return{getItem:a=>{var s;const g=f=>f===null?null:JSON.parse(f,void 0),d=(s=t.getItem(a))!=null?s:null;return d instanceof Promise?d.then(g):g(d)},setItem:(a,s)=>t.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>t.removeItem(a)}}const w=e=>n=>{try{const t=e(n);return t instanceof Promise?t:{then(r){return w(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return w(r)(t)}}}},T=(e,n)=>(t,r,a)=>{let s={storage:N(()=>localStorage),partialize:o=>o,version:0,merge:(o,v)=>({...v,...o}),...n},g=!1;const d=new Set,f=new Set;let c=s.storage;if(!c)return e((...o)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...o)},r,a);const m=()=>{const o=s.partialize({...r()});return c.setItem(s.name,{state:o,version:s.version})},p=a.setState;a.setState=(o,v)=>{p(o,v),m()};const b=e((...o)=>{t(...o),m()},r,a);a.getInitialState=()=>b;let i;const S=()=>{var o,v;if(!c)return;g=!1,d.forEach(u=>{var h;return u((h=r())!=null?h:b)});const y=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(o=r())!=null?o:b))||void 0;return w(c.getItem.bind(c))(s.name).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==s.version){if(s.migrate){const h=s.migrate(u.state,u.version);return h instanceof Promise?h.then(x=>[!0,x]):[!0,h]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,u.state];return[!1,void 0]}).then(u=>{var h;const[x,P]=u;if(i=s.merge(P,(h=r())!=null?h:b),t(i,!0),x)return m()}).then(()=>{y==null||y(i,void 0),i=r(),g=!0,f.forEach(u=>u(i))}).catch(u=>{y==null||y(void 0,u)})};return a.persist={setOptions:o=>{s={...s,...o},o.storage&&(c=o.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>S(),hasHydrated:()=>g,onHydrate:o=>(d.add(o),()=>{d.delete(o)}),onFinishHydration:o=>(f.add(o),()=>{f.delete(o)})},s.skipHydration||S(),i||b},R=T,_=H(R((e,n)=>({favoritePokemons:[],addFavorite:t=>{const r=n().favoritePokemons;r.some(s=>s.id===t.id)||e({favoritePokemons:[...r,t]})},removeFavorite:t=>{const r=n().favoritePokemons.filter(a=>a.id!==t);e({favoritePokemons:r})}}),{name:"favorite-pokemons",storage:N(()=>localStorage)}));function B({id:e,name:n,image:t,types:r,stats:a}){const{favoritePokemons:s,addFavorite:g,removeFavorite:d}=_(),f=s.some(i=>i.id===e),c=()=>{f?d(e):g({id:e,name:n,image:t,types:r,stats:a})},m=e===202,p=m?{fill:"red",stroke:"red",strokeWidth:"1.5"}:{fill:"#3186d1",stroke:"#3186d1",strokeWidth:"1.5"},b=m?{fill:"none",stroke:"red",strokeWidth:"2"}:{fill:"none",stroke:"#475569",strokeWidth:"2"};return l.jsxs("div",{className:"relative bg-slate-900 rounded-3xl shadow p-6 m-4 flex flex-col items-center",children:[l.jsx("button",{onClick:c,className:"absolute top-4 right-4","aria-label":"Favorite button",children:f?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-6 w-auto",...p,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2 9.1371C2 14 6.01943 16.5914 8.96173 18.9109C10 19.7294 11 20.5 12 20.5C13 20.5 14 19.7294 15.0383 18.9109C17.9806 16.5914 22 14 22 9.1371C22 4.27416 16.4998 0.825464 12 5.50063C7.50016 0.825464 2 4.27416 2 9.1371Z"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-6 w-auto",...b,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2 9.1371C2 14 6.01943 16.5914 8.96173 18.9109C10 19.7294 11 20.5 12 20.5C13 20.5 14 19.7294 15.0383 18.9109C17.9806 16.5914 22 14 22 9.1371C22 4.27416 16.4998 0.825464 12 5.50063C7.50016 0.825464 2 4.27416 2 9.1371Z"})})}),l.jsxs("h2",{className:"capitalize font-bold text-lg mb-1 notranslate",translate:"no",children:[e,". ",n]}),l.jsx("img",{src:t,alt:n,className:" h-28 w-auto object-contain mb-1"}),l.jsx("div",{className:"flex space-x-2 mb-2",children:r.map(i=>l.jsx("span",{className:`text-xs text-white font-semibold px-2 py-1 rounded capitalize ${O(i)}`,children:i},i))}),l.jsx("div",{className:"text-sm w-full text-gray-400",children:a.map(i=>l.jsxs("div",{className:"flex justify-between my-1",children:[l.jsxs("span",{className:"capitalize notranslate",translate:"no",children:[i.name,":"]}),l.jsx("span",{children:i.base})]},i.name))})]})}function O(e){switch(e.toLowerCase()){case"normal":return"bg-type-normal/90";case"fire":return"bg-type-fire/90";case"water":return"bg-type-water/90";case"electric":return"bg-type-electric/90";case"grass":return"bg-type-grass/90";case"ice":return"bg-type-ice/90";case"fighting":return"bg-type-fighting/90";case"poison":return"bg-type-poison/90";case"ground":return"bg-type-ground/90";case"flying":return"bg-type-flying/90";case"psychic":return"bg-type-psychic/90";case"bug":return"bg-type-bug/90";case"rock":return"bg-type-rock/90";case"ghost":return"bg-type-ghost/90";case"dark":return"bg-type-dark/90";case"dragon":return"bg-type-dragon/90";case"steel":return"bg-type-steel/90";case"fairy":return"bg-type-fairy/90";default:return"bg-gray-300"}}function J(){const[e,n]=j.useState(!1);j.useEffect(()=>{const r=()=>{window.scrollY>300?n(!0):n(!1)};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[]);const t=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e?l.jsx("button",{onClick:t,className:`
        fixed top-20 left-1/2 -translate-x-1/2 z-30 font-bold py-2 px-6 rounded-xl shadow text-sm lg:text-base
        bg-cyan-600/50 hover:bg-cyan-600/80 backdrop-filter backdrop-blur-md
        text-white active:text-black active:bg-yellow-600
      `,"aria-label":"Scroll to top",children:"Go to Start ðŸ‘†"}):null}export{B as P,J as S,_ as u};
