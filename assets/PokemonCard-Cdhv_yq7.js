import{R as j,j as u}from"./index-CUznpdhE.js";const w=e=>{let s;const t=new Set,r=(c,g)=>{const h=typeof c=="function"?c(s):c;if(!Object.is(h,s)){const p=s;s=g??(typeof h!="object"||h===null)?h:Object.assign({},s,h),t.forEach(i=>i(s,p))}},a=()=>s,d={setState:r,getState:a,getInitialState:()=>f,subscribe:c=>(t.add(c),()=>t.delete(c))},f=s=e(r,a,d);return d},P=e=>e?w(e):w,F=e=>e;function H(e,s=F){const t=j.useSyncExternalStore(e.subscribe,()=>s(e.getState()),()=>s(e.getInitialState()));return j.useDebugValue(t),t}const C=e=>{const s=P(e),t=r=>H(s,r);return Object.assign(t,s),t},L=e=>e?C(e):C;function I(e,s){let t;try{t=e()}catch{return}return{getItem:a=>{var n;const m=f=>f===null?null:JSON.parse(f,void 0),d=(n=t.getItem(a))!=null?n:null;return d instanceof Promise?d.then(m):m(d)},setItem:(a,n)=>t.setItem(a,JSON.stringify(n,void 0)),removeItem:a=>t.removeItem(a)}}const S=e=>s=>{try{const t=e(s);return t instanceof Promise?t:{then(r){return S(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return S(r)(t)}}}},R=(e,s)=>(t,r,a)=>{let n={storage:I(()=>localStorage),partialize:o=>o,version:0,merge:(o,v)=>({...v,...o}),...s},m=!1;const d=new Set,f=new Set;let c=n.storage;if(!c)return e((...o)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),t(...o)},r,a);const g=()=>{const o=n.partialize({...r()});return c.setItem(n.name,{state:o,version:n.version})},h=a.setState;a.setState=(o,v)=>{h(o,v),g()};const p=e((...o)=>{t(...o),g()},r,a);a.getInitialState=()=>p;let i;const k=()=>{var o,v;if(!c)return;m=!1,d.forEach(l=>{var b;return l((b=r())!=null?b:p)});const y=((v=n.onRehydrateStorage)==null?void 0:v.call(n,(o=r())!=null?o:p))||void 0;return S(c.getItem.bind(c))(n.name).then(l=>{if(l)if(typeof l.version=="number"&&l.version!==n.version){if(n.migrate){const b=n.migrate(l.state,l.version);return b instanceof Promise?b.then(x=>[!0,x]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,l.state];return[!1,void 0]}).then(l=>{var b;const[x,N]=l;if(i=n.merge(N,(b=r())!=null?b:p),t(i,!0),x)return g()}).then(()=>{y==null||y(i,void 0),i=r(),m=!0,f.forEach(l=>l(i))}).catch(l=>{y==null||y(void 0,l)})};return a.persist={setOptions:o=>{n={...n,...o},o.storage&&(c=o.storage)},clearStorage:()=>{c==null||c.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>k(),hasHydrated:()=>m,onHydrate:o=>(d.add(o),()=>{d.delete(o)}),onFinishHydration:o=>(f.add(o),()=>{f.delete(o)})},n.skipHydration||k(),i||p},_=R,O=L(_((e,s)=>({favoritePokemons:[],addFavorite:t=>{const r=s().favoritePokemons;r.some(n=>n.id===t.id)||e({favoritePokemons:[...r,t]})},removeFavorite:t=>{const r=s().favoritePokemons.filter(a=>a.id!==t);e({favoritePokemons:r})}}),{name:"favorite-pokemons",storage:I(()=>localStorage)}));function B({id:e,name:s,image:t,types:r,stats:a}){const{favoritePokemons:n,addFavorite:m,removeFavorite:d}=O(),f=n.some(i=>i.id===e),c=()=>{f?d(e):m({id:e,name:s,image:t,types:r,stats:a})},g=e===202,h=g?{fill:"red",stroke:"red",strokeWidth:"1.5"}:{fill:"#3186d1",stroke:"#3186d1",strokeWidth:"1.5"},p=g?{fill:"none",stroke:"red",strokeWidth:"2"}:{fill:"none",stroke:"#475569",strokeWidth:"2"};return u.jsxs("div",{className:"relative bg-slate-900 rounded-3xl shadow p-6 m-4 flex flex-col items-center",children:[u.jsx("button",{onClick:c,className:"absolute top-4 right-4","aria-label":"Favorite button",children:f?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-6 w-auto",...h,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2 9.1371C2 14 6.01943 16.5914 8.96173 18.9109C10 19.7294 11 20.5 12 20.5C13 20.5 14 19.7294 15.0383 18.9109C17.9806 16.5914 22 14 22 9.1371C22 4.27416 16.4998 0.825464 12 5.50063C7.50016 0.825464 2 4.27416 2 9.1371Z"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"h-6 w-auto",...p,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2 9.1371C2 14 6.01943 16.5914 8.96173 18.9109C10 19.7294 11 20.5 12 20.5C13 20.5 14 19.7294 15.0383 18.9109C17.9806 16.5914 22 14 22 9.1371C22 4.27416 16.4998 0.825464 12 5.50063C7.50016 0.825464 2 4.27416 2 9.1371Z"})})}),u.jsxs("h2",{className:"capitalize font-bold text-lg mb-1",children:[e,". ",s]}),u.jsx("img",{src:t,alt:s,className:" h-28 w-auto object-contain mb-1"}),u.jsx("div",{className:"flex space-x-2 mb-2",children:r.map(i=>u.jsx("span",{className:`text-xs text-white font-semibold px-2 py-1 rounded capitalize ${E(i)}`,children:i},i))}),u.jsx("div",{className:"text-sm w-full",children:a.map(i=>u.jsxs("div",{className:"flex justify-between my-1",children:[u.jsxs("span",{className:"capitalize",children:[i.name,":"]}),u.jsx("span",{children:i.base})]},i.name))})]})}function E(e){switch(e.toLowerCase()){case"normal":return"bg-type-normal/90";case"fire":return"bg-type-fire/90";case"water":return"bg-type-water/90";case"electric":return"bg-type-electric/90";case"grass":return"bg-type-grass/90";case"ice":return"bg-type-ice/90";case"fighting":return"bg-type-fighting/90";case"poison":return"bg-type-poison/90";case"ground":return"bg-type-ground/90";case"flying":return"bg-type-flying/90";case"psychic":return"bg-type-psychic/90";case"bug":return"bg-type-bug/90";case"rock":return"bg-type-rock/90";case"ghost":return"bg-type-ghost/90";case"dark":return"bg-type-dark/90";case"dragon":return"bg-type-dragon/90";case"steel":return"bg-type-steel/90";case"fairy":return"bg-type-fairy/90";default:return"bg-gray-300"}}export{B as P,O as u};
