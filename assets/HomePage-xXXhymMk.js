import{r as u,j as e}from"./index-DK4lyfkh.js";function d({id:s,name:a,image:i,types:c,stats:l,onAddToFavorites:t}){const[p,r]=u.useState(!1),o=()=>{r(!p),t&&t({id:s,name:a,image:i,types:c,stats:l})};return e.jsxs("div",{className:"relative bg-slate-900 rounded-3xl shadow p-6 m-4 flex flex-col items-center",children:[e.jsx("button",{onClick:o,className:"absolute top-4 right-4","aria-label":"Favorite button",children:p?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#307CBF",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#307CBF",className:"h-6 w-auto",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2 9.1371C2 14 6.01943 16.5914 8.96173 18.9109C10 19.7294 11 20.5 12 20.5C13 20.5 14 19.7294 15.0383 18.9109C17.9806 16.5914 22 14 22 9.1371C22 4.27416 16.4998 0.825464 12 5.50063C7.50016 0.825464 2 4.27416 2 9.1371Z"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"#475569",className:"h-6 w-auto",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2 9.1371C2 14 6.01943 16.5914 8.96173 18.9109C10 19.7294 11 20.5 12 20.5C13 20.5 14 19.7294 15.0383 18.9109C17.9806 16.5914 22 14 22 9.1371C22 4.27416 16.4998 0.825464 12 5.50063C7.50016 0.825464 2 4.27416 2 9.1371Z"})})}),e.jsxs("h2",{className:"capitalize font-bold text-lg mb-1",children:[s,". ",a]}),e.jsx("img",{src:i,alt:a,className:" h-28 w-auto object-contain mb-1"}),e.jsx("div",{className:"flex space-x-2 mb-2",children:c.map(n=>e.jsx("span",{className:`text-xs text-white font-semibold px-2 py-1 rounded capitalize ${g(n)}`,children:n},n))}),e.jsx("div",{className:"text-sm w-full",children:l.map(n=>e.jsxs("div",{className:"flex justify-between my-1",children:[e.jsxs("span",{className:"capitalize",children:[n.name,":"]}),e.jsx("span",{children:n.base})]},n.name))})]})}function g(s){switch(s.toLowerCase()){case"normal":return"bg-type-normal/90";case"fire":return"bg-type-fire/90";case"water":return"bg-type-water/90";case"electric":return"bg-type-electric/90";case"grass":return"bg-type-grass/90";case"ice":return"bg-type-ice/90";case"fighting":return"bg-type-fighting/90";case"poison":return"bg-type-poison/90";case"ground":return"bg-type-ground/90";case"flying":return"bg-type-flying/90";case"psychic":return"bg-type-psychic/90";case"bug":return"bg-type-bug/90";case"rock":return"bg-type-rock/90";case"ghost":return"bg-type-ghost/90";case"dark":return"bg-type-dark/90";case"dragon":return"bg-type-dragon/90";case"steel":return"bg-type-steel/90";case"fairy":return"bg-type-fairy/90";default:return"bg-gray-300"}}const m=20;async function f(s=0){const a=await fetch(`https://pokeapi.co/api/v2/pokemon?offset=${s}&limit=${m}`);if(!a.ok)throw new Error("Failed to fetch Pokemon list");const c=(await a.json()).results.map(async t=>{const p=await fetch(`${t.url}`);if(!p.ok)throw new Error("Failed to fetch pokemon detail");const r=await p.json();return{id:r.id,name:r.name,image:r.sprites.front_shiny||r.sprites.front_default||"",types:r.types.map(o=>o.type.name),stats:r.stats.slice(0,4).map(o=>({name:o.stat.name,base:o.base_stat}))}});return await Promise.all(c)}function b(){const[s,a]=u.useState([]),[i,c]=u.useState(0),l=async()=>{try{const t=await f(i);a(t)}catch(t){console.error(t)}};return u.useEffect(()=>{l()},[]),e.jsx("div",{className:" w-screen",children:s.map(t=>e.jsx(d,{id:t.id,name:t.name,image:t.image,types:t.types,stats:t.stats},t.id))})}export{b as default};
